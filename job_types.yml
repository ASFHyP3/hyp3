RtcGamma:
  image: 845172464411.dkr.ecr.us-west-2.amazonaws.com/hyp3-gamma
  api_job_type: RTC_GAMMA
  parameters:
    granules:
      default: '""'
      api_schema_location: "#/components/schemas/rtc_granules"
    bucket_prefix:
      default:  '""'
    resolution:
      default:  30.0
      api_schema_location: "#/components/schemas/resolution"
    dem_name:
      default: copernicus
      api_schema_location: "#/components/schemas/dem_name"
    radiometry:
      default:  gamma0
      api_schema_location: "#/components/schemas/radiometry"
    scale:
      default:  power
      api_schema_location: "#/components/schemas/scale"
    speckle_filter:
      default: false
      api_schema_location: "#/components/schemas/speckle_filter"
    dem_matching:
      default:  false
      api_schema_location: "#/components/schemas/dem_matching"
    include_dem:
      default:  false
      api_schema_location: "#/components/schemas/include_dem"
    include_inc_map:
      default:  false
      api_schema_location: "#/components/schemas/include_inc_map"
    include_scattering_area:
      default: false
      api_schema_location: "#/components/schemas/include_scattering_area"
    include_rgb:
      default: false
      api_schema_location: "#/components/schemas/include_rgb"
  required_parameters:
    - granules
  command:
    - ++process
    - rtc
    - --username
    - '!Ref EDLUsername'
    - --password
    - '!Ref EDLPassword'
    - --bucket
    - '!Ref Bucket'
    - --bucket-prefix
    - Ref::bucket_prefix
    - --resolution
    - Ref::resolution
    - --dem-name
    - Ref::dem_name
    - --radiometry
    - Ref::radiometry
    - --scale
    - Ref::scale
    - --speckle-filter
    - Ref::speckle_filter
    - --dem-matching
    - Ref::dem_matching
    - --include-dem
    - Ref::include_dem
    - --include-inc-map
    - Ref::include_inc_map
    - --include-scattering-area
    - Ref::include_scattering_area
    - --include-rgb
    - Ref::include_rgb
    - Ref::granules
  validators:
    - check_dem_coverage
  timeout: 5400

InsarGamma:
  image: 845172464411.dkr.ecr.us-west-2.amazonaws.com/hyp3-gamma
  api_job_type: INSAR_GAMMA
  parameters:
    granules:
      default:  '""'
      api_schema_location: "#/components/schemas/insar_granules"
    bucket_prefix:
      default:  '""'
    include_look_vectors:
      default:  false
      api_schema_location: "#/components/schemas/include_look_vectors"
    include_los_displacement:
      default:  false
      api_schema_location: "#/components/schemas/los_displacement"
    include_inc_map:
      default: false
      api_schema_location: "#/components/schemas/include_inc_map"
    include_dem:
      default: false
      api_schema_location: "#/components/schemas/include_dem"
    include_wrapped_phase:
      default: false
      api_schema_location: "#/components/schemas/include_wrapped_phase"
    looks:
      default:  20x4
      api_schema_location: "#/components/schemas/looks"
  required_parameters:
    - granules
  command:
    - ++process
    - insar
    - --username
    - '!Ref EDLUsername'
    - --password
    - '!Ref EDLPassword'
    - --bucket
    - '!Ref Bucket'
    - --bucket-prefix
    - Ref::bucket_prefix
    - --include-look-vectors
    - Ref::include_look_vectors
    - --include-los-displacement
    - Ref::include_los_displacement
    - --include-inc-map
    - Ref::include_inc_map
    - --include-dem
    - Ref::include_dem
    - --include-wrapped-phase
    - Ref::include_wrapped_phase
    - --looks
    - Ref::looks
    - Ref::granules
  validators:
    - check_dem_coverage
  timeout: 10800

Autorift:
  image: 845172464411.dkr.ecr.us-west-2.amazonaws.com/hyp3-autorift
  api_job_type: AUTORIFT
  parameters:
    granules:
      default:  '""'
      api_schema_location: "#/components/schemas/autorift_granules"
    bucket_prefix:
      default:  '""'
  required_parameters:
    - granules
  command:
    - --username
    - '!Ref EDLUsername'
    - --password
    - '!Ref EDLPassword'
    - --bucket
    - '!Ref Bucket'
    - --bucket-prefix
    - Ref::bucket_prefix
    - --naming-scheme
    - !ENV ${AUTORIFT_NAMING_SCHEME:ITS_LIVE_OD}
    - Ref::granules
  validators: []
  timeout: 10800
